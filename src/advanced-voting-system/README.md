# Advanced Voting System
A more advanced proposal voting system that deploys a new contract for each proposal that will be voted.
This project is a learning project that is also putting my React skill to test, I've never worked with React other than 'getting started' tutorials. It is also the first time I use Typescript.

## Overview

### Blockchain side
The project consists in 2 contracts:
* The `VoteManager` is responsible for creating proposals, which are individual contracts deployed on runtime, and track all proposals created.
* The `Proposal` is responsible to store the JSON metadata with title and text description, which is stored on IPFS, and also handle the votes (YES or NO).
* The `TimeLock` is a supporting contract used together with `Proposal` to handle the logic to lock ETH until the proposal deadline.


### UI
* Initial page list all proposals registered in the `VoteManager` giving the possibility to vote YES or NO;
* Create Proposal page allows users to create proposals.
  * It requires to send 1ETH that will be locked until the deadline is over, the UI will show the button to withdraw when the time arrives.
## Setup Project

### Install dependencies
The project uses `yarn`, so you will have to run the following command to install all dependencies:
```shell
yarn install
```

### Run Tests
The projects uses Hardhat.js.
To run tests use the following commands: 
```shell
$ npx hardhat test
```

### Coverage
Generated by running:
```shell
$ npx hardhat test
```

Test Coverage:
```
------------------|----------|----------|----------|----------|----------------|
File              |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
------------------|----------|----------|----------|----------|----------------|
 contracts/       |      100 |    95.83 |      100 |      100 |                |
  Proposal.sol    |      100 |      100 |      100 |      100 |                |
  VoteManager.sol |      100 |    91.67 |      100 |      100 |                |
 contracts/utils/ |      100 |       80 |      100 |      100 |                |
  TimeLock.sol    |      100 |       80 |      100 |      100 |                |
------------------|----------|----------|----------|----------|----------------|
All files         |      100 |    91.18 |      100 |      100 |                |
------------------|----------|----------|----------|----------|----------------|
```